<!-- -*-xml-*-
     Handle ROS simulation of the SoT.
  -->
<launch>
  <arg name="end_effector" doc="one of false, pal-gripper, pal-hey5, schunk-wsg"/>

   <!-- Load robot model. -->
  <!--
  <param name="robot_description"
    textfile="$(find tiago_data)/robots/tiago_steel.urdf" />
  -->
  <param name="robot_description"
    command="$(find xacro)/xacro.py '$(find tiago_description)/robots/tiago.urdf.xacro' end_effector:=$(arg end_effector)"/>



   <!-- Load robot sot params. -->
  <rosparam command="load"
	 file="$(find sot_tiago_bringup)/sot/tiago.yaml" />
  
  <machine name="geometric_simu_machine"
    address="localhost" />

  <!--
     Read joint_states topic and publish link positions to tf.

     openhrp_bridge publishes encoder values to the joint_states topic
     therefore, this provide the most reliable way of identifying link
     relative position on HRP-2.
    -->
  <node name="robot_state_publisher"
	pkg="robot_state_publisher"
	type="state_publisher"
	respawn="true">
    <param name="tf_prefix" value="" />
  </node>


  <!-- Buffer Server -->
  <node pkg="tf2_ros" type="buffer_server"
	name="tf2_buffer_server" respawn="true">
    <param name="buffer_size" value="120.0"/>
  </node>
</launch>
